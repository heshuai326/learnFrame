<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>react</title>
</head>
<body>
<div id="container"></div>
</body>
<script src="./bower_components/react/react.min.js"></script>
<script src="./bower_components/react/react-dom.min.js"></script>
<script src="./bower_components/babel-standalone/babel.min.js"></script>
<script type="text/babel">
    /*
    * 组件有三个状态:
    * Mounting:挂载状态,已渲染状态,插入节点
    * Updating:更新状态,重新渲染
    * UnMounting:销毁状态,组件已被从节点中移除
    *
    * 组件在使用时又四个阶段:
    * 创建,实例化,更新,销毁
    * 在组件的状态中有些特殊的点可以插入一些方法,进行一些特别的操作,这些方法为
    * getDefaultProps
    * getInitialState
    * componentWillMount
    * render
    * componentDidMount
    * componentWillReceiveProps
    * shouldComponentUpdate
    * componentWillUpdate
    * componentDidUpdate
    * componentWillUnMount
    * */

    var LifeTest = React.createClass({
//        一、创建 只有getDefaultProps
        getDefaultProps:function () {
//            在创建时对属性进行初始化
          console.log("getDefaultProps");
            return {};
        },
        /**
         * 二、实例化阶段
         * getInitialState
         * componentWillMount
         * render
         * componentDidMount
         * */
        getInitialState:function () {
//            只是在实例化时初始化状态
            console.log("getInitialState");
            return null;
        },
        componentWillMount:function () {
//            在渲染之间执行
            console.log("componentWillMount");
        }
        ,
        render:function () {
//            形成一个虚拟DOM结构,并渲染
            console.log("render");
            return <h1>你好,百度</h1>
        },
        componentDidMount:function () {
//            在render之后执行,会将虚拟DOM结构转换成真实地DOM结构,并插入节点
//            经常在这里请求数据,拿到结构,改变一些状态
            console.log(" componentDidMount");
        },
        /*三、更新
         *流程
         *componentWillReceiveProps
         * shouldComponentUpdate
         * componentWillUpdate
         * render
         * componentDidUpdate
        * */
        componentWillReceiveProps:function () {
            console.log("componentWillReceiveProps");
        },
        shouldComponentUpdate:function () {
//            是否允许组件的更新,返回true就会执行后面更新,反之不更新
            console.log("shouldComponentUpdate");
            return true;
        },
        componentWillUpdate:function () {
//            组件更新之前
            console.log("componentWillUpdate");
        },
        componentDidUpdate:function () {
//            已更新
            console.log("componentDidUpdate");
        },
        /*
        *四、销毁
        *流程: componentWillUnMount
        * */
        componentWillUnmount:function () {
//            组件销毁,从节点移除组件
            console.log("componentWillUnmount");
        }
    })
//    第一次渲染
    ReactDOM.render(
            <LifeTest></LifeTest>,
            document.getElementById("container")
    )
//    第二次渲染
    ReactDOM.render(
            <LifeTest></LifeTest>,
            document.getElementById("container")
    )
//    组件销毁
    ReactDOM.unmountComponentAtNode(document.getElementById("container"));
</script>
</html>